<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="Description" content="" />
		<link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico" />
		<title>MOA - Tambah Tugas</title>
		<script type="text/javascript" src="js/is_login.js"></script>
		<link rel="stylesheet" href="css/style.css" />
		<link rel="stylesheet" href="css/work.css" />
	</head>
	<body>
		<header>
			<div id="header_wrap" class="wrap">
				<a href="dashboard.html"> <img id="header_logo" src="images/logo.png" alt="Logo Produk" /> </a>
				<div id="header_title">
					<h1> <a href="dashboard.html">MOA</a> </h1>
					<h4>Multiuser Online Agenda</h4>
				</div>
				<div id="border_header"></div>
				<div id="header_menu">
					<nav>
						<ul>
							<li> <a href="dashboard.html" class="active">Dashboard</a> </li>
							<li> <a href="profil.html">Profil</a> </li>
						</ul>
					</nav>
					<div id="login_area">
						<nav id="login_button">
							<ul>
								<li> <a id="login_link" href="#">Masuk</a> </li>
							</ul>
						</nav>
						<div class="clear"></div>
						<div id="border_login"><div id="border_login_inner"></div></div>
						<div id="login_form_wrap">
							<form id="login_form" action="dashboard.html" method="post">
								<div class="row">
									<label for="login_username">Username</label> <br />
									<input id="login_username" name="username" type="text" required /> <br />
								</div>
								<div class="row">
									<label for="login_password">Sandi</label> <br />
									<input id="login_password" name="password" type="password" required /> <br />
								</div>
								<input type="submit" value="Masuk" />
							</form>
						</div>
						<div class="clear"></div>
					</div>
					<div id="border_search"></div>

					<div id="search">
						<div id="search_inner">
							<div id="search_button"></div>
							<div id="search_left"></div>
							<form id="search_form">
								<input id="search_text" name="search_query" type="text" />
							</form>
							<div id="search_right"></div>
						</div>
					</div>
				</div>
				<div class="clear"></div>
			</div>
		</header>
		
		<section>
			<div id="content_wrap" class="wrap">
				<div="work_area">
					<div id="new_task_form_wrap">
						<div id="work_head">
							<h1>Tambah Tugas Baru</h1>
						</div>
						<form id="new_task_form" method="post">
							<div class="row">
								<label for="category_name">Nama Kategori</label>
								<span id="category_name"></span>
							</div>
							<div class="row">
								<label for="new_task_name">Nama Tugas</label>
								<input id="new_task_name" name="new_task_name" pattern="^.{5,}$" type="text" title="Nama kategori minimal harus terdiri dari 5 karakter." required />
							</div>
							<div class="row">
								<label for="new_task_attachment">Attachment</label>
								<input id="new_task_attachment" name="new_task_attachment" type="file" title="Avatar yang diupload harus berekstensi jpg atau jpeg." required />
							</div>
							<div class="row">
								<label for="birth_date">Deadline</label>
								<input id="birth_date" name="birth_date" type="text" pattern="^[0-3][0-9]/[0-1][0-9]/[1-9][0-9][0-9][0-9]$" onblur="datePicker.blur();" onclick="datePicker.showCalendar(event);" title="Tahun harus minimal dari tahun 1955." required/>
							</div>
							<div class="row">
								<label for="new_task_username">Asignee</label>
								<input id="new_task_username" name="new_task_username" pattern="^(.{5,}\x2C)+$" type="text" title="Username yang dimasukkan harus diakhiri tanda koma." required />
							</div>
							<div class="row">
								<label for="new_task_tag">Tag</label>
								<input id="new_task_tag" name="new_task_tag" pattern="^(.{5,}\x2C)+$" type="text" title="Username yang dimasukkan harus diakhiri tanda koma." required />
							</div>
							<input id="new_category_submit" type="submit" value="Tambah" disabled="disabled" title="Semua elemen form harus diisi dengan benar dahulu."/>
						</form>
					</div>
				</div>
			</div>
		</section>
		
		<footer>
			<div id="footer_wrap" class="wrap">
				<div id="footer_left">
					<a href="dashboard.html">Dashboard</a> >>
					<a href="#" class="active">Tambah Tugas Baru</a>
				</div>
			</div>
		</footer>
		
		<div id="calendar">
			<a id="date_button_left" class="date_button" title="Prev" onclick="datePicker.prevMonth();">
				<img alt="arrow_left" src="images/date-left.png" />
			</a>
			<a id="date_button_right" class="date_button" title="Next" onclick="datePicker.nextMonth();">
				<img alt="arrow_right" src="images/date-right.png" />
			</a>
			<div id="tableHeader"></div>
			<table id="calendarTable" border=1>
				<tbody id="tableBody">
					<tr>
						<th>Su</th>
						<th>Mo</th>
						<th>Tu</th>
						<th>We</th>
						<th>Th</th>
						<th>Fr</th>
						<th>Sa</th>
					</tr>
				</tbody>
			</table>
		</div>
		
		<script type="text/javascript" src="js/search.js"></script>
		<script type="text/javascript" src="js/logout.js"></script>
		<script type="text/javascript">			
			/*----- Bagian tugas baru ----*/
			var work_form = document.getElementById("work_form");
			
			var work_name = document.getElementById("work_name");
			var work_asignee = document.getElementById("work_asignee");
			var work_deadline = document.getElementById("work_deadline");
			var work_tag = document.getElementById("work_tag");
			var work_attachment = document.getElementById("work_attachment");
			
			work_name.onkeyup = function()
			{
				if (this.checkValidity())
					this.style.backgroundImage = "url('images/valid.png')";
				else
					this.style.backgroundImage = "url('images/warning.png')";
				check_submit_work();
			}
			
			work_asignee.onkeyup = function()
			{
				if (this.checkValidity())
					this.style.backgroundImage = "url('images/valid.png')";
				else
					this.style.backgroundImage = "url('images/warning.png')";
				check_submit_work();
			}
			
			work_tag.onkeyup = function()
			{
				if (this.checkValidity())
					this.style.backgroundImage = "url('images/valid.png')";
				else
					this.style.backgroundImage = "url('images/warning.png')";
				check_submit_work();
			}
			
			work_attachment.onchange = function()
			{
				if (check_file(this))
					this.style.backgroundImage = "url('images/valid.png')";
				else
					this.style.backgroundImage = "url('images/warning.png')";
				check_submit_work();
			}
			
			function check_file(image)
			{
				return (image.value.match("^.+\.(jpe?g|JPE?G|txt|TXT|pdf|PDF|avi|mkv)$"));
			}
			
			function check_submit_work()
			{
				if (work_name.checkValidity()&& work_asignee.checkValidity() && 
					work_deadline.checkValidity() && work_tag.checkValidity() && 
					check_file(work_attachment))
				{
					document.getElementById("work_submit").disabled="";
				}
				else
				{
					document.getElementById("work_submit").disabled="disabled";
				}
			}
		</script>
		<script type="text/javascript" src="js/datepicker.js"></script>
		<script type="text/javascript">
			window.onload = function()
			{
				datePicker.init(document.getElementById("calendar"), document.getElementById("new_task_form"));
			}
		</script>
	</body>
</html>
